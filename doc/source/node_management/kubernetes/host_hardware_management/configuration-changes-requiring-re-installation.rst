
.. rzn1552676649577
.. _configuration-changes-requiring-re-installation:

===============================================
Configuration Changes Requiring Re-installation
===============================================

Some configuration changes require a system or host re-installation.

.. _configuration-changes-requiring-re-installation-table-d2t-yjs-kfb:

.. table:: Table 1. Configuration Changes Requiring Reinstallation
    :widths: auto

    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Change                                                       | Reinstall       | Comments                                                                                                                                                                                                                                                                                                                           |
    +==============================================================+=================+====================================================================================================================================================================================================================================================================================================================================+
    | Product type change                                          | System          | To change between Standard and All-in-one, you must perform a system reinstallation.                                                                                                                                                                                                                                               |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | PXE boot network addition or removal                         | System          |                                                                                                                                                                                                                                                                                                                                    |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Management network subnet or range changes                   | System          |                                                                                                                                                                                                                                                                                                                                    |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Cluster-host subnet or range changes                         | System          |                                                                                                                                                                                                                                                                                                                                    |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Legacy BIOS to UEFI change                                   | System          |                                                                                                                                                                                                                                                                                                                                    |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Security profile change                                      | System          |                                                                                                                                                                                                                                                                                                                                    |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Controller filesystem size decrease                          | System          | To decrease the controller filesystem size, you must perform a system reinstallation.                                                                                                                                                                                                                                              |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Root disk replacement                                        | Host \(re-add\) | To install |prod-os| OpenStack software on a new disk, the host must be deleted and re-added \(not merely reinstalled\).                                                                                                                                                                                                           |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Management NIC MAC address change                            | Host \(re-add\) | .. note::                                                                                                                                                                                                                                                                                                                          |
    |                                                              |                 |     To register the new MAC address for Host Inventory management, the host must be deleted and re-added \(not merely reinstalled\).                                                                                                                                                                                               |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Replacement of storage disk on SAS controller                | Host \(re-add\) | Due to a limitation in **udev**, the device path of a disk connected through a SAS controller changes when the disk is replaced. You must lock, delete, and re-install the node. Once this is done, it is advisable to replace any storage profiles associated with the host, since the old storage profile is no longer accurate. |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Aborted upgrade after controller-1 and controller-0 upgraded | System          |                                                                                                                                                                                                                                                                                                                                    |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Subcloud delete and re-add                                   | System          | The subcloud system must be reinstalled.                                                                                                                                                                                                                                                                                           |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Configuration commands run from SSH                          | System          | An error occurs if any of the :command:`sw-patch install-local` command is run from an SSH session.                                                                                                                                                                                                                                |
    |                                                              |                 |                                                                                                                                                                                                                                                                                                                                    |
    |                                                              |                 | To recover, you must reinstall the system.                                                                                                                                                                                                                                                                                         |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Developer certificate or update removal                      | System          | Required to correct Alarm 500.100                                                                                                                                                                                                                                                                                                  |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Management network netmask correction on a Duplex system     | System          | On a Duplex system, the minimum management netmask is /28.                                                                                                                                                                                                                                                                         |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Host version mismatch                                        | Host \(re-add\) | Required to correct Alarm 900.003                                                                                                                                                                                                                                                                                                  |
    |                                                              |                 |                                                                                                                                                                                                                                                                                                                                    |
    |                                                              |                 | .. note::                                                                                                                                                                                                                                                                                                                          |
    |                                                              |                 |     To register the new software version for Host Inventory management, the host must be deleted and re-added \(not merely reinstalled\)                                                                                                                                                                                           |
    +--------------------------------------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


.. xbooklink - Comments in tables are not respected. These rows need to be restored as the xrefs come available:

..   | Controller filesystem size decrease                          | System          | To decrease the controller filesystem size, you must perform a system reinstallation. See |stor-doc|: `Increasing Controller Filesystem Storage Allotments Using Horizon <increasing-controller-filesystem-storage-allotments-using-horizon>`                                                                         |

..   | Subcloud delete and re-add                                   | System          | The subcloud system must be reinstalled. See |distcloud-doc|: `Monitoring Subclouds Using Horizon <monitoring-subclouds-using-horizon>`.                                                                                                                                                                              |

..   | Developer certificate or update removal                      | System          | Required to correct Alarm 500.100 \(see |fault-doc|: `Alarm Messages <100-series-alarm-messages>`\).                                                                                                                                                                                                                  |

..   | Host version mismatch                                        | Host \(re-add\) | Required to correct Alarm 900.003 \(see |fault-doc|: `Alarm Messages <100-series-alarm-messages>`\)                                                                                                                                                                                                                   |
