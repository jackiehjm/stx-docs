
.. hzf1552927866550
.. _bulk-host-xml-file-format-r7:

=========================
Bulk Host XML File Format
=========================

Hosts for bulk addition are described using an XML document.

The document root is **hosts**. Within the root, each host is described using a
**host** node. To provide details, child elements are used, corresponding to
the parameters for the :command:`host-add` command.

The following elements are accepted. Each element takes a text string. For
valid values, refer to the CLI documentation.


.. _bulk-host-xml-file-format-simpletable-tc3-w15-ht:


.. table::
    :widths: auto

    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | Element                                                                                                                                                                                 | Remarks                                                                                                                                                                                 |
    +=========================================================================================================================================================================================+=========================================================================================================================================================================================+
    | hostname                                                                                                                                                                                | A unique name for the host.                                                                                                                                                             |
    |                                                                                                                                                                                         |                                                                                                                                                                                         |
    |                                                                                                                                                                                         | .. note::                                                                                                                                                                               |
    |                                                                                                                                                                                         |     Controller and storage node names are assigned automatically and override user input.                                                                                               |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | personality                                                                                                                                                                             | The type of host.                                                                                                                                                                       |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | subfunctions                                                                                                                                                                            | For a worker host, an optional element to enable a low-latency performance profile.                                                                                                     |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | mgmt\_mac                                                                                                                                                                               | The MAC address of the management interface.                                                                                                                                            |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | mgmt\_ip                                                                                                                                                                                | The IP address of the management interface.                                                                                                                                             |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | bm\_ip                                                                                                                                                                                  | The IP address of the board management controller.                                                                                                                                      |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | bm\_type                                                                                                                                                                                | The board management controller type.                                                                                                                                                   |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | bm\_username                                                                                                                                                                            | The username for board management controller authentication.                                                                                                                            |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | bm\_password                                                                                                                                                                            | The password for board management controller authentication.                                                                                                                            |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | power\_on                                                                                                                                                                               | An empty element. If present, powers on the host automatically using the specified board management controller.                                                                         |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | install\_output                                                                                                                                                                         | The display mode to use during installation \(text or graphical\). The default is **text**.                                                                                             |
    |                                                                                                                                                                                         |                                                                                                                                                                                         |
    |                                                                                                                                                                                         | .. note::                                                                                                                                                                               |
    |                                                                                                                                                                                         |     The graphical option currently has no effect. Text-based installation is used regardless of this setting.                                                                           |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | console                                                                                                                                                                                 | If present, this element specifies the port, and if applicable the baud, for displaying messages. If the element is empty or not present, the default setting **ttyS0,115200** is used. |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | rootfs\_device                                                                                                                                                                          | The device to use for the rootfs partition, relative to /dev.                                                                                                                           |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | boot\_device                                                                                                                                                                            | The device to use for the boot partition, relative to /dev.                                                                                                                             |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    | location                                                                                                                                                                                | A description of the host location.                                                                                                                                                     |
    +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

The following sample describes a controller, three worker nodes, and two storage nodes:

.. code-block:: none

    <?xml version="1.0" encoding="UTF-8" ?>
    <hosts>
    	<host>
    		<personality>controller</personality>
    		<mgmt_mac>08:00:27:19:b0:c5</mgmt_mac>
            <bm_ip>10.10.10.100</bm_ip>
    		<bm_type>bmc</bm_type>
    		<bm_username>tsmith1</bm_username>
    		<bm_password>mypass1</bm_password>
            <install_output>text</install_output>
            <location>System12/A4</location>
    	</host>
    	<host>
    		<hostname>worker-0</hostname>
    		<personality>worker</personality>
    		<mgmt_mac>08:00:27:dc:42:46</mgmt_mac>
    		<mgmt_ip>192.168.204.50</mgmt_ip>
            <bm_ip>10.10.10.101</bm_ip>
    		<bm_username>tsmith1</bm_username>
    		<bm_password>mypass1</bm_password>
    		<bm_type>bmc</bm_type>
            <install_output>text</install_output>
            <console></console>
    	</host>
    	<host>
    		<hostname>worker-1</hostname>
    		<personality>worker</personality>
    		<mgmt_mac>08:00:27:87:82:3E</mgmt_mac>
    		<mgmt_ip>192.168.204.51</mgmt_ip>
            <bm_ip>10.10.10.102</bm_ip>
    		<bm_type>bmc</bm_type>
    		<bm_username>tsmith1</bm_username>
    		<bm_password>mypass1</bm_password>
            <rootfs_device>sda</rootfs_device>
            <install_output>text</install_output>
    	</host>
    	<host>
    		<hostname>worker-2</hostname>
    		<personality>worker</personality>
    		<mgmt_mac>08:00:27:b9:16:0d</mgmt_mac>
    		<mgmt_ip>192.168.204.52</mgmt_ip>
            <rootfs_device>sda</rootfs_device>
            <install_output>text</install_output>
            <console></console>
            <power_on/>
    		<bm_ip>10.10.10.103</bm_ip>
    		<bm_type>bmc</bm_type>
    		<bm_username>tsmith1</bm_username>
    		<bm_password>mypass1</bm_password>
    	</host>
    	<host>
    		<personality>storage</personality>
    		<mgmt_mac>08:00:27:dd:e3:3f</mgmt_mac>
            <bm_ip>10.10.10.104</bm_ip>
    		<bm_type>bmc</bm_type>
    		<bm_username>tsmith1</bm_username>
    		<bm_password>mypass1</bm_password>
    	</host>
    	<host>
    		<personality>storage</personality>
    		<mgmt_mac>08:00:27:8e:f1:b8</mgmt_mac>
            <bm_ip>10.10.10.105</bm_ip>
    		<bm_type>bmc</bm_type>
    		<bm_username>tsmith1</bm_username>
    		<bm_password>mypass1</bm_password>
    	</host>
    </hosts>
